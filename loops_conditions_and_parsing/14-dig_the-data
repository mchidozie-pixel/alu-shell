#!/usr/bin/env bash
# Group by IP and HTTP code, count occurrences, sort descending
awk '{print $1, $9}' apache-access.log | \
sort | uniq -c | sort -nr | awk '{printf "%5d %s %s\n", $1, $2, $3}'

